A Tinkerer's Assembler for the 6502/65c02/65816
Version BETA  24. December 2016
Copyright 2015, 2016 Scot W. Stevenson <scot.stevenson@gmail.com>
This program comes with ABSOLUTELY NO WARRANTY
Code listing for file liaraforth.tasm
Generated on Wed Jan  4 17:56:39 2017
Target MPU: 65816
External files loaded: 4
Number of passes executed: 32
Number of steps executed: 7
Assembly time: 0.07329 seconds
Code origin: 006000
Bytes of machine code: 1998

LISTING:
       Line Address  Bytes        Instruction
    1    17 00:6000  78           pla
    2    17 00:6001  18           rts
    3    17 00:6002  fb           rep 20
    4    17 00:6003  c2 10        have_chr?
    5    17 00:6005  a2 ff 01     sta 00df70
    6    17 00:6008  9a           (data)
    7    17 00:6009  9c 49 df     (data)
    8    17 00:600c  a9 c0        (data)
    9    17 00:600e  8d 24 df     (data)
   10    17 00:6011  9c 20 df     (data)
   11    17 00:6014  a9 10        (data)
   12    17 00:6016  1c 42 df     (data)
   13    17 00:6019  a9 0b        (data)
   14    17 00:601b  8d 66 df     (data)
   15    17 00:601e  a9 00        (data)
   16    17 00:6020  8d 67 df     (data)
   17    17 00:6023  a9 08        (data)
   18    17 00:6025  0c 43 df     (data)
   19    17 00:6028  a9 25        (data)
   20    17 00:602a  8d 70 df     (data)
   21    17 00:602d  4c 62 60     (data)
   22    17 00:6030  48           (data)
   23    17 00:6031  08           (data)
   24    17 00:6032  e2 20        (data)
   25    17 00:6034  48           (data)
   26    17 00:6035  a9 02        (data)
   27    17 00:6037  2c 48 df     (data)
   28    17 00:603a  f0 fb        (data)
   29    17 00:603c  68           (data)
   30    17 00:603d  8d 71 df     (data)
   31    17 00:6040  28           (data)
   32    17 00:6041  68           (data)
   33    17 00:6042  60           (data)
   34    17 00:6043  08           (data)
   35    17 00:6044  e2 20        (data)
   36    17 00:6046  a9 01        (data)
   37    17 00:6048  2c 48 df     (data)
   38    17 00:604b  f0 fb        (data)
   39    17 00:604d  ad 71 df     (data)
   40    17 00:6050  28           (data)
   41    17 00:6051  60           (data)
   42    17 00:6052  48           (data)
   43    17 00:6053  08           (data)
   44    17 00:6054  e2 20        (data)
   45    17 00:6056  ad 48 df     (data)
   46    17 00:6059  28           (data)
   47    17 00:605a  6a           (data)
   48    17 00:605b  c2 20        (data)
   49    17 00:605d  68           (data)
   50    17 00:605e  60           (data)
   51    34 00:605f  4c 00 60     jmp reset_hardware
   52    37 00:6062  18           clc
   53    37 00:6063  fb           xce
   54    38 00:6064  c2 30        rep 30
   55    39 00:6066  78           sei
   56    52 00:6067  a9 3d 65     lda.# h_drop
   57    53 00:606a  85 02        sta.d dp
   58    56 00:606c  a9 00 7c     lda.# 007c00
   59    57 00:606f  85 0c        sta.d cib
   60    58 00:6071  64 0e        stz.d ciblen
   61    59 00:6073  64 10        stz.d piblen
   62    62 00:6075  a9 a9 65     lda.# s_title
   63    63 00:6078  20 75 65     jsr print_string
   64    64 00:607b  a9 c9 65     lda.# s_version
   65    65 00:607e  20 75 65     jsr print_string
   66    66 00:6081  a9 e8 65     lda.# s_author
   67    67 00:6084  20 75 65     jsr print_string
   68    68 00:6087  a9 15 66     lda.# s_disclaimer
   69    69 00:608a  20 75 65     jsr print_string
   70    70 00:608d  a9 43 66     lda.# s_typebye
   71    71 00:6090  20 75 65     jsr print_string
   72    83 00:6093  18           clc
   73    83 00:6094  fb           xce
   74    84 00:6095  c2 20        rep 20
   75    86 00:6097  a0 00 00     ldy.# 0000
   76    87 00:609a  a2 f0 02     ldx.# 0002f0
   77    99 00:609d  a9 ff 7f     lda.# 007fff
   78   100 00:60a0  1b           tcs
   79   103 00:60a1  64 08        stz.d ip
   80   106 00:60a3  64 0a        stz.d insrc
   81   109 00:60a5  64 14        stz.d state
   82   112 00:60a7  20 4e 63     jsr a_words
   83   113 00:60aa  20 b0 61     jsr a_cr
   84   118 00:60ad  64 0e        stz.d ciblen
   85   121 00:60af  20 b5 62     jsr a_refill
   86   123 00:60b2  98           tya
   87   124 00:60b3  d0 06        bne quit_refill_successful
   88   130 00:60b5  a9 15 67     lda.# es_refill1
   89   131 00:60b8  4c 6f 65     jmp error
   90   139 00:60bb  b4 00        ldy.dx 00
   91   140 00:60bd  e8           inx
   92   141 00:60be  e8           inx
   93   144 00:60bf  64 12        stz.d toin
   94   147 00:60c1  20 49 65     jsr compile/execute
   95   151 00:60c4  a9 56 66     lda.# s_ok
   96   152 00:60c7  20 75 65     jsr print_string
   97   155 00:60ca  4c ad 60     jmp quit_get_line
   98   159 00:60cd  ea           z_quit
   99   165 00:60ce  ca           a_to-in
  100   166 00:60cf  ca           dex
  101   167 00:60d0  94 00        sty.dx 00
  102   169 00:60d2  a0 12 02     ldy.# toin
  103   170 00:60d5  60           z_to-in
  104   176 00:60d6  98           a_plus
  105   177 00:60d7  18           clc
  106   178 00:60d8  75 00        adc.dx 00
  107   179 00:60da  a8           tay
  108   180 00:60db  e8           inx
  109   181 00:60dc  e8           inx
  110   183 00:60dd  60           z_plus
  111   191 00:60de  ca           dex
  112   192 00:60df  ca           dex
  113   193 00:60e0  94 00        sty.dx 00
  114   194 00:60e2  a0 00 00     ldy.# 0000
  115   196 00:60e5  60           z_zero
  116   204 00:60e6  ca           dex
  117   205 00:60e7  ca           dex
  118   206 00:60e8  94 00        sty.dx 00
  119   207 00:60ea  a0 01 00     ldy.# 0001
  120   209 00:60ed  60           z_one
  121   217 00:60ee  c8           a_one-plus
  122   218 00:60ef  60           z_one-plus
  123   226 00:60f0  ca           dex
  124   227 00:60f1  ca           dex
  125   228 00:60f2  94 00        sty.dx 00
  126   229 00:60f4  a0 02 00     ldy.# 0002
  127   231 00:60f7  60           z_two
  128   238 00:60f8  ca           dex
  129   239 00:60f9  ca           dex
  130   240 00:60fa  ca           dex
  131   241 00:60fb  ca           dex
  132   242 00:60fc  94 02        sty.dx 02
  133   243 00:60fe  b5 04        lda.dx 04
  134   244 00:6100  95 00        sta.dx 00
  135   246 00:6102  60           z_2dup
  136   255 00:6103  b5 00        lda.dx 00
  137   256 00:6105  d0 04        bne accept_nonzero
  138   258 00:6107  a8           tay
  139   259 00:6108  e8           inx
  140   260 00:6109  e8           inx
  141   261 00:610a  60           rts
  142   264 00:610b  85 18        sta.d tmp2
  143   265 00:610d  84 16        sty.d tmp1
  144   266 00:610f  a0 00 00     ldy.# 0000
  145   267 00:6112  e2 20        sep 20
  146   273 00:6114  20 43 60     jsr get_chr
  147   275 00:6117  c9 0a        cmp.# 00000a
  148   276 00:6119  f0 44        beq accept_eol
  149   277 00:611b  c9 0d        cmp.# 00000d
  150   278 00:611d  f0 40        beq accept_eol
  151   280 00:611f  c9 08        cmp.# 000008
  152   281 00:6121  f0 43        beq accept_bs
  153   282 00:6123  c9 7f        cmp.# 00007f
  154   283 00:6125  f0 3f        beq accept_bs
  155   285 00:6127  c9 03        cmp.# 000003
  156   286 00:6129  d0 03        bne +
  157   287 00:612b  4c 93 60     jmp a_abort
  158   289 00:612e  c9 1b        cmp.# 00001b
  159   290 00:6130  d0 03        bne +
  160   291 00:6132  4c 93 60     jmp a_abort
  161   294 00:6135  c9 10        cmp.# 000010
  162   295 00:6137  d0 0c        bne +
  163   296 00:6139  c2 20        rep 20
  164   297 00:613b  a9 89 67     lda.# tests_prev_cmd
  165   298 00:613e  20 75 65     jsr print_string
  166   299 00:6141  e2 20        sep 20
  167   300 00:6143  80 cf        bra accept_loop
  168   304 00:6145  c9 0e        cmp.# 00000e
  169   305 00:6147  d0 0c        bne +
  170   306 00:6149  c2 20        rep 20
  171   307 00:614b  a9 9c 67     lda.# tests_next_cmd
  172   308 00:614e  20 75 65     jsr print_string
  173   309 00:6151  e2 20        sep 20
  174   310 00:6153  80 bf        bra accept_loop
  175   314 00:6155  20 30 60     jsr put_chr
  176   318 00:6158  91 0c        sta.diy cib
  177   319 00:615a  c8           iny
  178   320 00:615b  c4 18        cpy.d tmp2
  179   321 00:615d  d0 b5        bne accept_loop
  180   324 00:615f  84 0e        sty.d ciblen
  181   325 00:6161  e8           inx
  182   326 00:6162  e8           inx
  183   327 00:6163  c2 20        rep 20
  184   328 00:6165  60           rts
  185   332 00:6166  c0 00 00     cpy.# 00
  186   333 00:6169  d0 06        bne +
  187   335 00:616b  a9 07        lda.# 000007
  188   336 00:616d  20 30 60     jsr put_chr
  189   337 00:6170  c8           iny
  190   339 00:6171  88           dey
  191   340 00:6172  a9 08        lda.# 000008
  192   341 00:6174  20 30 60     jsr put_chr
  193   342 00:6177  a9 20        lda.# 000020
  194   343 00:6179  20 30 60     jsr put_chr
  195   344 00:617c  a9 08        lda.# 000008
  196   345 00:617e  20 30 60     jsr put_chr
  197   347 00:6181  80 91        bra accept_loop
  198   350 00:6183  60           z_accept
  199   358 00:6184  a9 07        lda.# 000007
  200   359 00:6186  20 30 60     jsr put_chr
  201   361 00:6189  60           z_bell
  202   368 00:618a  ca           a_bl
  203   369 00:618b  ca           dex
  204   370 00:618c  94 00        sty.dx 00
  205   371 00:618e  a0 20 00     ldy.# 000020
  206   373 00:6191  60           z_bl
  207   379 00:6192  00 00        a_bye
  208   380 00:6194  60           z_bye
  209   399 00:6195  98           a_comma
  210   400 00:6196  92 00        sta.di cp
  211   401 00:6198  e6 00        inc.d cp
  212   402 00:619a  e6 00        inc.d cp
  213   404 00:619c  b4 00        ldy.dx 00
  214   405 00:619e  e8           inx
  215   406 00:619f  e8           inx
  216   408 00:61a0  60           z_comma
  217   417 00:61a1  98           a_count
  218   418 00:61a2  1a           inc.a
  219   419 00:61a3  ca           dex
  220   420 00:61a4  ca           dex
  221   421 00:61a5  95 00        sta.dx 00
  222   423 00:61a7  b9 00 00     lda.y 0000
  223   424 00:61aa  eb           xba
  224   425 00:61ab  29 ff 00     and.# 00ff
  225   426 00:61ae  a8           tay
  226   428 00:61af  60           z_count
  227   436 00:61b0  a9 0a 00     lda.# 00000a
  228   437 00:61b3  20 30 60     jsr put_chr
  229   438 00:61b6  c2 20        rep 20
  230   440 00:61b8  60           z_cr
  231   448 00:61b9  b4 00        ldy.dx 00
  232   449 00:61bb  e8           inx
  233   450 00:61bc  e8           inx
  234   452 00:61bd  60           z_drop
  235   461 00:61be  ca           dex
  236   462 00:61bf  ca           dex
  237   463 00:61c0  94 00        sty.dx 00
  238   465 00:61c2  60           z_dup
  239   475 00:61c3  8c 08 02     sty ip
  240   477 00:61c6  b4 00        ldy.dx 00
  241   478 00:61c8  e8           inx
  242   479 00:61c9  e8           inx
  243   485 00:61ca  a9 d1 61     lda.# execute_done
  244   486 00:61cd  48           pha
  245   488 00:61ce  6c 08 02     jmp.i ip
  246   494 00:61d1  ea           nop
  247   496 00:61d2  60           z_execute
  248   524 00:61d3  84 16        sty.d tmp1
  249   525 00:61d5  b4 00        ldy.dx 00
  250   526 00:61d7  84 18        sty.d tmp2
  251   527 00:61d9  a4 02        ldy.d dp
  252   528 00:61db  84 1a        sty.d tmp3
  253   529 00:61dd  e2 20        sep 20
  254   533 00:61df  b2 1a        lda.di tmp3
  255   534 00:61e1  c5 16        cmp.d tmp1
  256   535 00:61e3  d0 35        bne find-name_next_word
  257   539 00:61e5  a0 08 00     ldy.# 0008
  258   540 00:61e8  b1 1a        lda.diy tmp3
  259   541 00:61ea  d2 18        cmp.di tmp2
  260   542 00:61ec  d0 2c        bne find-name_next_word
  261   545 00:61ee  a4 1a        ldy.d tmp3
  262   546 00:61f0  5a           phy
  263   550 00:61f1  a5 16        lda.d tmp1
  264   551 00:61f3  3a           dec.a
  265   552 00:61f4  f0 1c        beq find-name_success
  266   575 00:61f6  c2 20        rep 20
  267   576 00:61f8  a5 1a        lda.d tmp3
  268   577 00:61fa  18           clc
  269   578 00:61fb  69 08 00     adc.# 0008
  270   579 00:61fe  85 1a        sta.d tmp3
  271   581 00:6200  a5 16        lda.d tmp1
  272   582 00:6202  29 ff 00     and.# 00ff
  273   583 00:6205  3a           dec.a
  274   584 00:6206  a8           tay
  275   585 00:6207  e2 20        sep 20
  276   588 00:6209  b1 18        lda.diy tmp2
  277   589 00:620b  d1 1a        cmp.diy tmp3
  278   590 00:620d  d0 08        bne find-name_char_mismatch
  279   591 00:620f  88           dey
  280   592 00:6210  d0 f7        bne find-name_char_loop
  281   596 00:6212  7a           ply
  282   597 00:6213  e8           inx
  283   598 00:6214  e8           inx
  284   599 00:6215  80 18        bra find-name_done
  285   602 00:6217  7a           ply
  286   603 00:6218  84 1a        sty.d tmp3
  287   609 00:621a  e6 1a        inc.d tmp3
  288   610 00:621c  e6 1a        inc.d tmp3
  289   611 00:621e  c2 20        rep 20
  290   612 00:6220  b2 1a        lda.di tmp3
  291   613 00:6222  f0 06        beq find-name_failure
  292   614 00:6224  85 1a        sta.d tmp3
  293   615 00:6226  e2 20        sep 20
  294   616 00:6228  80 b5        bra find-name_loop
  295   619 00:622a  e8           inx
  296   620 00:622b  e8           inx
  297   621 00:622c  a0 00 00     ldy.# 0000
  298   624 00:622f  c2 20        rep 20
  299   625 00:6231  60           z_find-name
  300   634 00:6232  ca           dex
  301   635 00:6233  ca           dex
  302   636 00:6234  94 00        sty.dx 00
  303   638 00:6236  a4 00        ldy.d cp
  304   640 00:6238  60           z_here
  305   648 00:6239  c8           iny
  306   649 00:623a  c8           iny
  307   650 00:623b  c8           iny
  308   651 00:623c  c8           iny
  309   653 00:623d  60           z_name>int
  310   661 00:623e  ca           dex
  311   662 00:623f  ca           dex
  312   666 00:6240  98           tya
  313   667 00:6241  18           clc
  314   668 00:6242  69 08 00     adc.# 0008
  315   669 00:6245  95 00        sta.dx 00
  316   673 00:6247  b9 00 00     lda.y 0000
  317   674 00:624a  29 ff 00     and.# 00ff
  318   675 00:624d  a8           tay
  319   677 00:624e  60           z_name>string
  320   684 00:624f  e8           a_nip
  321   685 00:6250  e8           inx
  322   686 00:6251  60           z_nip
  323   698 00:6252  5a           phy
  324   699 00:6253  a4 12        ldy.d toin
  325   700 00:6255  e2 20        sep 20
  326   702 00:6257  c4 0e        cpy.d ciblen
  327   703 00:6259  f0 09        beq parse-name_empty_line
  328   705 00:625b  b1 0c        lda.diy cib
  329   706 00:625d  c9 20        cmp.# 000020
  330   707 00:625f  d0 17        bne parse-name_found
  331   708 00:6261  c8           iny
  332   709 00:6262  80 f3        bra parse-name_loop
  333   712 00:6264  c2 20        rep 20
  334   718 00:6266  ca           dex
  335   719 00:6267  ca           dex
  336   720 00:6268  ca           dex
  337   721 00:6269  ca           dex
  338   722 00:626a  7a           ply
  339   723 00:626b  94 00        sty.dx 00
  340   725 00:626d  a5 0c        lda.d cib
  341   726 00:626f  18           clc
  342   727 00:6270  65 0e        adc.d ciblen
  343   728 00:6272  95 00        sta.dx 00
  344   730 00:6274  a0 00 00     ldy.# 0000
  345   732 00:6277  60           rts
  346   735 00:6278  c2 20        rep 20
  347   736 00:627a  84 12        sty.d toin
  348   738 00:627c  ca           dex
  349   739 00:627d  ca           dex
  350   740 00:627e  7a           ply
  351   741 00:627f  84 00        sty.d 00
  352   743 00:6281  a0 20 00     ldy.# 000020
  353   768 00:6284  84 16        sty.d tmp1
  354   772 00:6286  ca           dex
  355   773 00:6287  ca           dex
  356   775 00:6288  a5 12        lda.d toin
  357   776 00:628a  85 1a        sta.d tmp3
  358   777 00:628c  18           clc
  359   778 00:628d  65 0c        adc.d cib
  360   779 00:628f  95 00        sta.dx 00
  361   781 00:6291  64 18        stz.d tmp2
  362   784 00:6293  a4 12        ldy.d toin
  363   785 00:6295  e2 20        sep 20
  364   788 00:6297  c4 0e        cpy.d ciblen
  365   789 00:6299  f0 0b        beq parse_reached_eol
  366   791 00:629b  b1 0c        lda.diy cib
  367   792 00:629d  c5 16        cmp.d tmp1
  368   793 00:629f  f0 03        beq parse_found_delimiter
  369   794 00:62a1  c8           iny
  370   795 00:62a2  80 f3        bra parse_loop
  371   802 00:62a4  e6 18        inc.d tmp2
  372   806 00:62a6  c2 20        rep 20
  373   807 00:62a8  98           tya
  374   808 00:62a9  38           sec
  375   809 00:62aa  e5 1a        sbc.d tmp3
  376   810 00:62ac  48           pha
  377   813 00:62ad  98           tya
  378   814 00:62ae  18           clc
  379   815 00:62af  65 18        adc.d tmp2
  380   816 00:62b1  85 12        sta.d toin
  381   818 00:62b3  7a           ply
  382   821 00:62b4  60           z_parse
  383   838 00:62b5  a5 0c        lda.d cib
  384   839 00:62b7  49 00 01     eor.# 0100
  385   840 00:62ba  85 0c        sta.d cib
  386   842 00:62bc  a5 0e        lda.d ciblen
  387   843 00:62be  85 10        sta.d piblen
  388   848 00:62c0  a5 0a        lda.d insrc
  389   849 00:62c2  d0 18        bne refill_source_is_not_keyboard
  390   853 00:62c4  ca           dex
  391   854 00:62c5  ca           dex
  392   855 00:62c6  ca           dex
  393   856 00:62c7  ca           dex
  394   857 00:62c8  94 02        sty.dx 02
  395   859 00:62ca  a9 ff 00     lda.# 0000ff
  396   860 00:62cd  95 00        sta.dx 00
  397   862 00:62cf  a4 0c        ldy.d cib
  398   864 00:62d1  20 03 61     jsr a_accept
  399   867 00:62d4  ca           dex
  400   868 00:62d5  ca           dex
  401   869 00:62d6  94 00        sty.dx 00
  402   870 00:62d8  a0 ff ff     ldy.# 0ffff
  403   873 00:62db  60           rts
  404   878 00:62dc  c9 ff ff     cmp.# 0ffff
  405   879 00:62df  d0 08        bne refill_source_is_not_string
  406   882 00:62e1  ca           dex
  407   883 00:62e2  ca           dex
  408   884 00:62e3  94 00        sty.dx 00
  409   885 00:62e5  a0 00 00     ldy.# 0000
  410   886 00:62e8  60           rts
  411   892 00:62e9  a9 43 67     lda.# es_refill2
  412   893 00:62ec  4c 6f 65     jmp error
  413   895 00:62ef  60           z_refill
  414   902 00:62f0  ca           a_source
  415   903 00:62f1  ca           dex
  416   904 00:62f2  ca           dex
  417   905 00:62f3  ca           dex
  418   906 00:62f4  94 02        sty.dx 02
  419   908 00:62f6  a5 0c        lda.d cib
  420   909 00:62f8  95 00        sta.dx 00
  421   911 00:62fa  a4 0e        ldy.d ciblen
  422   913 00:62fc  60           z_source
  423   921 00:62fd  ca           a_source-id
  424   922 00:62fe  ca           dex
  425   923 00:62ff  94 00        sty.dx 00
  426   924 00:6301  a4 0a        ldy.d insrc
  427   926 00:6303  60           z_source-id
  428   933 00:6304  e2 20        sep 20
  429   934 00:6306  a9 20        lda.# 000020
  430   935 00:6308  20 30 60     jsr put_chr
  431   936 00:630b  c2 20        rep 20
  432   938 00:630d  60           z_space
  433   947 00:630e  ca           a_state
  434   948 00:630f  ca           dex
  435   949 00:6310  94 00        sty.dx 00
  436   950 00:6312  a0 14 02     ldy.# state
  437   952 00:6315  60           z_state
  438   959 00:6316  b5 00        a_swap
  439   960 00:6318  94 00        sty.dx 00
  440   961 00:631a  a8           tay
  441   963 00:631b  60           z_swap
  442   969 00:631c  ca           a_true
  443   970 00:631d  ca           dex
  444   971 00:631e  94 00        sty.dx 00
  445   972 00:6320  a0 ff ff     ldy.# 0ffff
  446   974 00:6323  60           z_true
  447   980 00:6324  ca           a_tuck
  448   981 00:6325  ca           dex
  449   982 00:6326  b5 02        lda.dx 2
  450   983 00:6328  95 00        sta.dx 0
  451   984 00:632a  94 02        sty.dx 2
  452   986 00:632c  60           z_tuck
  453   999 00:632d  98           tya
  454  1000 00:632e  f0 17        beq type_done
  455  1002 00:6330  b5 00        lda.dx 00
  456  1003 00:6332  85 16        sta.d tmp1
  457  1004 00:6334  84 18        sty.d tmp2
  458  1005 00:6336  a0 00 00     ldy.# 0000
  459  1006 00:6339  e2 20        sep 20
  460  1008 00:633b  b1 16        lda.diy tmp1
  461  1009 00:633d  20 30 60     jsr put_chr
  462  1010 00:6340  c8           iny
  463  1011 00:6341  c4 18        cpy.d tmp2
  464  1012 00:6343  d0 f6        bne type_loop
  465  1014 00:6345  c2 20        rep 20
  466  1017 00:6347  b4 02        ldy.dx 02
  467  1018 00:6349  e8           inx
  468  1019 00:634a  e8           inx
  469  1020 00:634b  e8           inx
  470  1021 00:634c  e8           inx
  471  1025 00:634d  60           z_type
  472  1032 00:634e  a5 02        lda.d dp
  473  1033 00:6350  48           pha
  474  1035 00:6351  ca           dex
  475  1036 00:6352  ca           dex
  476  1037 00:6353  94 00        sty.dx 00
  477  1040 00:6355  a8           tay
  478  1042 00:6356  20 3e 62     jsr a_name>string
  479  1043 00:6359  20 2d 63     jsr a_type
  480  1044 00:635c  20 04 63     jsr a_space
  481  1047 00:635f  68           pla
  482  1052 00:6360  1a           inc.a
  483  1053 00:6361  1a           inc.a
  484  1055 00:6362  ca           dex
  485  1056 00:6363  ca           dex
  486  1057 00:6364  94 00        sty.dx 00
  487  1059 00:6366  a8           tay
  488  1060 00:6367  b9 00 00     lda.y 0000
  489  1061 00:636a  48           pha
  490  1062 00:636b  d0 e8        bne words_loop
  491  1064 00:636d  68           pla
  492  1067 00:636e  60           z_words
  493  1074 00:636f  03           .byte 64, 72, 6f, 70
  494  1074 00:6370  90           .word h_dup, a_drop, z_drop
  495  1074 00:6371  00 00        h_dup
  496  1074 00:6373  92 61        h_drop
  497  1074 00:6375  94 61        h_swap
  498  1074 00:6377  62 79 65     h_one
  499  1074 00:637a  04 00        h_state
  500  1074 00:637c  6f 63 (...)  h_tuck
  501  1074 00:6382  63 6f 6c 64  (data)
  502  1074 00:6386  05 90        (data)
  503  1074 00:6388  7a 63 (...)  (data)
  504  1074 00:638e  77 6f (...)  (data)
  505  1074 00:6393  04 90        (data)
  506  1074 00:6395  86 63 (...)  (data)
  507  1074 00:639b  62 65 6c 6c  (data)
  508  1074 00:639f  05 90        (data)
  509  1074 00:63a1  93 63 (...)  (data)
  510  1074 00:63a7  63 6f (...)  (data)
  511  1074 00:63ac  05 00        (data)
  512  1074 00:63ae  9f 63 (...)  (data)
  513  1074 00:63b4  61 62 (...)  (data)
  514  1074 00:63b9  05 00        (data)
  515  1074 00:63bb  ac 63 (...)  (data)
  516  1074 00:63c1  70 61 (...)  (data)
  517  1074 00:63c6  04 00        (data)
  518  1074 00:63c8  b9 63 (...)  (data)
  519  1074 00:63ce  71 75 69 74  (data)
  520  1074 00:63d2  08 90        (data)
  521  1074 00:63d4  c6 63 (...)  (data)
  522  1074 00:63da  6e 61 (...)  (data)
  523  1074 00:63e2  02 90        (data)
  524  1074 00:63e4  d2 63 (...)  (data)
  525  1074 00:63ea  63 72        (data)
  526  1074 00:63ec  02 90        (data)
  527  1074 00:63ee  e2 63 (...)  (data)
  528  1074 00:63f4  62 6c        (data)
  529  1074 00:63f6  05 90        (data)
  530  1074 00:63f8  ec 63 (...)  (data)
  531  1074 00:63fe  73 70 (...)  (data)
  532  1074 00:6403  04 00        (data)
  533  1074 00:6405  f6 63 (...)  (data)
  534  1074 00:640b  74 79 70 65  (data)
  535  1074 00:640f  0b 90        (data)
  536  1074 00:6411  03 64 (...)  (data)
  537  1074 00:6417  6e 61 (...)  (data)
  538  1074 00:6422  04 90        (data)
  539  1074 00:6424  0f 64 (...)  (data)
  540  1074 00:642a  32 64 75 70  (data)
  541  1074 00:642e  05 90        (data)
  542  1074 00:6430  22 64 (...)  (data)
  543  1074 00:6436  73 74 (...)  (data)
  544  1074 00:643b  03 90        (data)
  545  1074 00:643d  2e 64 (...)  (data)
  546  1074 00:6443  3e 69 6e     (data)
  547  1074 00:6446  06 90        (data)
  548  1074 00:6448  3b 64 (...)  (data)
  549  1074 00:644e  73 6f (...)  (data)
  550  1074 00:6454  01 90        (data)
  551  1074 00:6456  46 64 (...)  (data)
  552  1074 00:645c  2b           (data)
  553  1074 00:645d  02 90        (data)
  554  1074 00:645f  54 64 (...)  (data)
  555  1074 00:6465  31 2b        (data)
  556  1074 00:6467  05 90        (data)
  557  1074 00:6469  5d 64 (...)  (data)
  558  1074 00:646f  66 61 (...)  (data)
  559  1074 00:6474  04 90        (data)
  560  1074 00:6476  67 64 (...)  (data)
  561  1074 00:647c  74 72 75 65  (data)
  562  1074 00:6480  01 90        (data)
  563  1074 00:6482  74 64 (...)  (data)
  564  1074 00:6488  32           (data)
  565  1074 00:6489  01 90        (data)
  566  1074 00:648b  80 64 (...)  (data)
  567  1074 00:6491  31           (data)
  568  1074 00:6492  01 90        (data)
  569  1074 00:6494  89 64 (...)  (data)
  570  1074 00:649a  30           (data)
  571  1074 00:649b  09 00        (data)
  572  1074 00:649d  92 64 (...)  (data)
  573  1074 00:64a3  66 69 (...)  (data)
  574  1074 00:64ac  06 80        (data)
  575  1074 00:64ae  9b 64 (...)  (data)
  576  1074 00:64b4  72 65 (...)  (data)
  577  1074 00:64ba  0a 00        (data)
  578  1074 00:64bc  ac 64 (...)  (data)
  579  1074 00:64c2  70 61 (...)  (data)
  580  1074 00:64cc  09 90        (data)
  581  1074 00:64ce  ba 64 (...)  (data)
  582  1074 00:64d4  73 6f (...)  (data)
  583  1074 00:64dd  01 90        (data)
  584  1074 00:64df  cc 64 (...)  (data)
  585  1074 00:64e5  2c           (data)
  586  1074 00:64e6  06 00        (data)
  587  1074 00:64e8  dd 64 (...)  (data)
  588  1074 00:64ee  61 63 (...)  (data)
  589  1074 00:64f4  04 90        (data)
  590  1074 00:64f6  e6 64 (...)  (data)
  591  1074 00:64fc  74 75 63 6b  (data)
  592  1074 00:6500  03 90        (data)
  593  1074 00:6502  f4 64 (...)  (data)
  594  1074 00:6508  6e 69 70     (data)
  595  1074 00:650b  07 90        (data)
  596  1074 00:650d  00 65 (...)  (data)
  597  1074 00:6513  65 78 (...)  (data)
  598  1074 00:651a  04 90        (data)
  599  1074 00:651c  0b 65 (...)  (data)
  600  1074 00:6522  68 65 72 65  (data)
  601  1074 00:6526  04 90        (data)
  602  1074 00:6528  1a 65 (...)  (data)
  603  1074 00:652e  73 77 61 70  (data)
  604  1074 00:6532  03 90        (data)
  605  1074 00:6534  26 65 (...)  (data)
  606  1074 00:653a  64 75 70     (data)
  607  1074 00:653d  04 90        (data)
  608  1074 00:653f  32 65 (...)  (data)
  609  1074 00:6545  64 72 6f 70  (data)
  610  1092 00:6549  20 52 62     jsr a_parse-name
  611  1097 00:654c  98           tya
  612  1098 00:654d  f0 19        beq compex_line_done
  613  1102 00:654f  20 a8 65     jsr string_to_uppercase
  614  1106 00:6552  20 d3 61     jsr a_find-name
  615  1110 00:6555  98           tya
  616  1111 00:6556  d0 06        bne compex_got_name_token
  617  1115 00:6558  a9 7c 67     lda.# es_syntax
  618  1116 00:655b  4c 6f 65     jmp error
  619  1125 00:655e  c8           iny
  620  1126 00:655f  c8           iny
  621  1127 00:6560  c8           iny
  622  1128 00:6561  c8           iny
  623  1134 00:6562  20 c3 61     jsr a_execute
  624  1137 00:6565  4c 49 65     jmp compex_loop
  625  1141 00:6568  b4 02        ldy.dx 02
  626  1142 00:656a  e8           inx
  627  1143 00:656b  e8           inx
  628  1144 00:656c  e8           inx
  629  1145 00:656d  e8           inx
  630  1147 00:656e  60           rts
  631  1153 00:656f  20 75 65     jsr print_string
  632  1154 00:6572  4c 93 60     jmp a_abort
  633  1166 00:6575  da           phx
  634  1167 00:6576  aa           tax
  635  1169 00:6577  e2 20        sep 20
  636  1170 00:6579  bd 00 00     lda.x 0000
  637  1171 00:657c  f0 06        beq print_string_done
  638  1172 00:657e  20 30 60     jsr put_chr
  639  1173 00:6581  e8           inx
  640  1174 00:6582  80 f3        bra -
  641  1177 00:6584  a9 0a        lda.# 00000a
  642  1178 00:6586  20 30 60     jsr put_chr
  643  1179 00:6589  c2 20        rep 20
  644  1180 00:658b  fa           plx
  645  1181 00:658c  60           rts
  646  1189 00:658d  48           pha
  647  1191 00:658e  4a           lsr.a
  648  1192 00:658f  4a           lsr.a
  649  1193 00:6590  4a           lsr.a
  650  1194 00:6591  4a           lsr.a
  651  1195 00:6592  20 9a 65     jsr nibble_to_ascii
  652  1197 00:6595  68           pla
  653  1198 00:6596  20 9a 65     jsr nibble_to_ascii
  654  1200 00:6599  60           rts
  655  1209 00:659a  29 0f        and.# 0f
  656  1210 00:659c  09 30        ora.# 30
  657  1211 00:659e  c9 3a        cmp.# 3a
  658  1212 00:65a0  90 02        bcc +
  659  1213 00:65a2  69 06        adc.# 06
  660  1215 00:65a4  20 30 60     jsr put_chr
  661  1217 00:65a7  60           rts
  662  1225 00:65a8  60           rts
  663  1230 00:65a9  0a 4c (...)  alphastr
  664  1230 00:65c9  56 65 (...)  .byte 28, 6e, 65, 78, 74, 20, 63, 6f, 6d, 6d, 61, 6e, 64, 29, 0
  665  1230 00:65e8  53 63 (...)  .byte 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 61, 62, 63, 64, 65, 66, 67, 68, 69, 6a, 6b, 6c, 6d, 6e, 6f, 70, 71, 72, 73, 74, 75, 76, 77, 79, 7a
  666  1230 00:6615  4c 69 (...)  .byte 28, 70, 72, 65, 76, 69, 6f, 75, 73, 20, 63, 6f, 6d, 6d, 61, 6e, 64, 29, 0
  667  1230 00:6643  54 79 (...)  .byte 49, 6e, 74, 65, 72, 70, 72, 65, 74, 69, 6e, 67, 20, 61, 20, 63, 6f, 6d, 70, 69, 6c, 65, 2d, 6f, 6e, 6c, 79, 20, 77, 6f, 72, 64, 0
  668  1230 00:6656  20 6f 6b 00  .byte 51, 55, 49, 54, 20, 63, 6f, 75, 6c, 64, 20, 6e, 6f, 74, 20, 67, 65, 74, 20, 69, 6e, 70, 75, 74, 20, 28, 52, 45, 46, 49, 4c, 4c, 20, 72, 65, 74, 75, 72, 6e, 65, 64, 20, 2d, 31, 29, 0
  669  1230 00:665a  41 63 (...)  (data)
  670  1230 00:6674  49 6e (...)  (data)
  671  1230 00:6695  44 45 (...)  (data)
  672  1230 00:66b2  44 69 (...)  (data)
  673  1230 00:66c3  20 28 (...)  (data)
  674  1230 00:66cc  3e 3e (...)  (data)
  675  1230 00:66d8  4e 6f (...)  (data)
  676  1230 00:66ee  50 61 (...)  (data)
  677  1230 00:66fe  44 69 (...)  (data)
  678  1230 00:6715  51 55 (...)  (data)
  679  1230 00:6743  49 6c (...)  (data)
  680  1230 00:6763  53 74 (...)  (data)
  681  1230 00:677c  55 6e (...)  (data)
  682  1230 00:6789  28 70 (...)  (data)
  683  1230 00:679c  28 6e (...)  (data)
  684  1230 00:67ab  30 31 (...)  (data)

MACROS:
            (none)

SYMBOL TABLE:
                  a_2dup : 0060f8
                 a_abort : 006093
                a_accept : 006103
                  a_bell : 006184
                    a_bl : 00618a
                   a_bye : 006192
                  a_cold : 00605f
                 a_comma : 006195
                 a_count : 0061a1
                    a_cr : 0061b0
                  a_drop : 0061b9
                   a_dup : 0061be
               a_execute : 0061c3
             a_find-name : 0061d3
                  a_here : 006232
              a_name>int : 006239
           a_name>string : 00623e
                   a_nip : 00624f
                   a_one : 0060e6
              a_one-plus : 0060ee
                 a_parse : 006284
            a_parse-name : 006252
                  a_plus : 0060d6
                  a_quit : 00609d
                a_refill : 0062b5
                a_source : 0062f0
             a_source-id : 0062fd
                 a_space : 006304
                 a_state : 00630e
                  a_swap : 006316
                 a_to-in : 0060ce
                  a_true : 00631c
                  a_tuck : 006324
                   a_two : 0060f0
                  a_type : 00632d
                 a_words : 00634e
                  a_zero : 0060de
               accept_bs : 006166
              accept_eol : 00615f
             accept_loop : 006114
          accept_nonzero : 00610b
                alphastr : 0067ab
                 ascbell : 000007
                   ascbs : 000008
                   asccc : 000003
                   asccn : 00000e
                   asccp : 000010
                   asccr : 00000d
                  ascdel : 00007f
                  ascesc : 00001b
                   asclf : 00000a
                   ascsp : 000020
               brg_value : 00000b
                 buffers : 007c00
              buffersize : 0000ff
           byte_to_ascii : 00658d
                     cib : 00020c
                  ciblen : 00020e
                      co : 000040
   compex_got_name_token : 00655e
        compex_line_done : 006568
             compex_loop : 006549
         compile/execute : 006549
                      cp : 000200
              directpage : 000200
     directpage-multiple : 007400
                      dp : 000202
                    dsp0 : 0002f0
                   error : 00656f
              es_channel : 00665a
             es_componly : 006674
                es_defer : 006695
              es_divzero : 0066b2
                es_empty : 0066c3
                es_error : 0066cc
              es_intonly : 0066d8
               es_noname : 0066ee
                es_radix : 0066fe
              es_refill1 : 006715
              es_refill2 : 006743
                es_stack : 006763
               es_syntax : 00677c
            execute_done : 0061d1
     find-name_char_loop : 006209
 find-name_char_mismatch : 006217
          find-name_done : 00622f
       find-name_failure : 00622a
          find-name_loop : 0061df
     find-name_next_word : 00621a
       find-name_success : 006212
                 get_chr : 006043
            get_chr_wait : 006048
                  h_2dup : 006422
                 h_abort : 0063ac
                h_accept : 0064e6
                  h_bell : 006393
                    h_bl : 0063ec
                   h_bye : 00636f
                  h_cold : 00637a
                 h_comma : 0064dd
                 h_count : 00639f
                    h_cr : 0063e2
                  h_drop : 00653d
                   h_dup : 006532
               h_execute : 00650b
                 h_false : 006467
             h_find-name : 00649b
                  h_here : 00651a
              h_name>int : 0063d2
           h_name>string : 00640f
                   h_nip : 006500
                   h_one : 006489
              h_one-plus : 00645d
                 h_parse : 0063b9
            h_parse-name : 0064ba
                  h_plus : 006454
                  h_quit : 0063c6
                h_refill : 0064ac
                h_source : 006446
             h_source-id : 0064cc
                 h_space : 0063f6
                 h_state : 00642e
                  h_swap : 006526
                 h_to-in : 00643b
                  h_true : 006474
                  h_tuck : 0064f4
                   h_two : 006480
                  h_type : 006403
                 h_words : 006386
                  h_zero : 006492
               have_chr? : 006052
                hw_acsr0 : 00df70
                hw_acsr1 : 00df72
                hw_acsr2 : 00df74
                hw_acsr3 : 00df76
                hw_artd0 : 00df71
                hw_artd1 : 00df73
                hw_artd2 : 00df75
                hw_artd3 : 00df77
                  hw_bcr : 00df40
                 hw_eier : 00df47
                 hw_eifr : 00df45
                 hw_pcs7 : 00df27
                  hw_pd0 : 00df00
                  hw_pd1 : 00df01
                  hw_pd2 : 00df02
                  hw_pd3 : 00df03
                  hw_pd4 : 00df20
                  hw_pd5 : 00df21
                  hw_pd6 : 00df22
                  hw_pd7 : 00df23
                 hw_pdd0 : 00df04
                 hw_pdd1 : 00df05
                 hw_pdd2 : 00df06
                 hw_pdd3 : 00df07
                 hw_pdd4 : 00df24
                 hw_pdd5 : 00df25
                 hw_pdd6 : 00df26
                 hw_sscr : 00df41
                 hw_t0ch : 00df61
                 hw_t0cl : 00df60
                 hw_t1ch : 00df63
                 hw_t1cl : 00df62
                 hw_t2ch : 00df65
                 hw_t2cl : 00df64
                 hw_t3ch : 00df67
                 hw_t3cl : 00df66
                 hw_t4ch : 00df69
                 hw_t4cl : 00df68
                 hw_t5ch : 00df6b
                 hw_t5cl : 00df6a
                 hw_t6ch : 00df6d
                 hw_t6cl : 00df6c
                 hw_t7ch : 00df6f
                 hw_t7cl : 00df6e
                  hw_tcr : 00df42
                  hw_ter : 00df43
                 hw_tier : 00df46
                 hw_tifr : 00df44
                 hw_uier : 00df49
                 hw_uifr : 00df48
                ibuffer1 : 007c00
                ibuffer2 : 007d00
                      im : 000020
                   insrc : 00020a
                      ip : 000208
         maxram-multiple : 006fff
           maxram-single : 007bff
                      nc : 000010
         nibble_to_ascii : 00659a
   parse-name_empty_line : 006264
        parse-name_found : 006278
         parse-name_loop : 006257
   parse_found_delimiter : 0062a4
              parse_loop : 006297
       parse_reached_eol : 0062a6
             physicalram : 007fff
                  piblen : 000210
            print_string : 006575
       print_string_done : 006584
                 put_chr : 006030
            put_chr_wait : 006037
                      pw : 000080
           quit_get_line : 0060ad
  quit_refill_successful : 0060bb
                    ram0 : 000200
refill_source_is_not_keyboard : 0062dc
refill_source_is_not_string : 0062e9
          reset_hardware : 006000
                s_author : 0065e8
            s_disclaimer : 006615
                    s_ok : 006656
                 s_title : 0065a9
               s_typebye : 006643
               s_version : 0065c9
          stack-multiple : 007000
                  stack0 : 007fff
                   start : 006062
                   state : 000214
     string_to_uppercase : 0065a8
          tests_next_cmd : 00679c
          tests_prev_cmd : 006789
                    tmp1 : 000216
                    tmp2 : 000218
                    tmp3 : 00021a
                  tmpdsp : 000204
                  tmptos : 000206
                    toin : 000212
               type_done : 006347
               type_loop : 00633b
              words_loop : 006355
                  z_2dup : 006102
                 z_abort : 0060cd
                z_accept : 006183
                  z_bell : 006189
                    z_bl : 006191
                   z_bye : 006194
                  z_cold : 0060cd
                 z_comma : 0061a0
                 z_count : 0061af
                    z_cr : 0061b8
                  z_drop : 0061bd
                   z_dup : 0061c2
               z_execute : 0061d2
             z_find-name : 006231
                  z_here : 006238
              z_name>int : 00623d
           z_name>string : 00624e
                   z_nip : 006251
                   z_one : 0060ed
              z_one-plus : 0060ef
                 z_parse : 0062b4
            z_parse-name : 0062b4
                  z_plus : 0060dd
                  z_quit : 0060cd
                z_refill : 0062ef
                z_source : 0062fc
             z_source-id : 006303
                 z_space : 00630d
                 z_state : 006315
                  z_swap : 00631b
                 z_to-in : 0060d5
                  z_true : 006323
                  z_tuck : 00632c
                   z_two : 0060f7
                  z_type : 00634d
                 z_words : 00636e
                  z_zero : 0060e5

