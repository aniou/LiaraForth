A Tinkerer's Assembler for the 6502/65c02/65816
Version BETA  24. December 2016
Copyright 2015, 2016 Scot W. Stevenson <scot.stevenson@gmail.com>
This program comes with ABSOLUTELY NO WARRANTY
Code listing for file liaraforth.tasm
Generated on Tue Dec 27 04:10:01 2016
Target MPU: 65816
External files loaded: 3
Number of passes executed: 32
Number of steps executed: 7
Assembly time: 0.85961 seconds
Code origin: 006000
Bytes of machine code: 1009

LISTING:
       Line Address  Bytes        Instruction
    1    32 00:6000  18           clc
    2    32 00:6001  fb           xce
    3    33 00:6002  c2 30        rep 30
    4    34 00:6004  78           sei
    5    48 00:6005  a9 00 7c     lda.# 007c00
    6    49 00:6008  85 06        sta.d cib
    7    52 00:600a  58           cli
    8    55 00:600b  a9 08 62     lda.# s_title
    9    56 00:600e  20 d4 61     jsr printstring
   10    57 00:6011  a9 28 62     lda.# s_version
   11    58 00:6014  20 d4 61     jsr printstring
   12    59 00:6017  a9 47 62     lda.# s_author
   13    60 00:601a  20 d4 61     jsr printstring
   14    61 00:601d  a9 74 62     lda.# s_disclaimer
   15    62 00:6020  20 d4 61     jsr printstring
   16    63 00:6023  a9 a2 62     lda.# s_typebye
   17    64 00:6026  20 d4 61     jsr printstring
   18    66 00:6029  58           cli
   19    77 00:602a  a0 00 00     ldy.# 0000
   20    78 00:602d  a2 f0 02     ldx.# 0002f0
   21    90 00:6030  a9 ff 7f     lda.# 007fff
   22    91 00:6033  1b           tcs
   23    94 00:6034  64 08        stz.d insrc
   24    97 00:6036  64 10        stz.d state
   25   100 00:6038  a9 00 7c     lda.# 007c00
   26   101 00:603b  85 06        sta.d cib
   27   102 00:603d  20 f6 61     jsr clearbuffer
   28   106 00:6040  20 9e 60     jsr a_refill
   29   108 00:6043  98           tya
   30   109 00:6044  d0 08        bne quit_refill_ok
   31   116 00:6046  a9 73 63     lda.# es_refill
   32   117 00:6049  20 d4 61     jsr printstring
   33   119 00:604c  80 dc        bra a_abort
   34   123 00:604e  64 04        stz.d to-in
   35   129 00:6050  48           pha
   36   130 00:6051  a9 b5 62     lda.# s_ok
   37   131 00:6054  20 d4 61     jsr printstring
   38   132 00:6057  68           pla
   39   138 00:6058  00 00        brk 00
   40   144 00:605a  80 e4        bra quit_main_loop
   41   148 00:605c  ea           z_quit
   42   159 00:605d  e2 20        sep 20
   43   160 00:605f  22 36 e0 00  jsr.l 00e036
   44   161 00:6063  22 4b e0 00  jsr.l 00e04b
   45   162 00:6067  80 f4        bra a_accept
   46   164 00:6069  60           z_accept
   47   170 00:606a  00 00        a_bye
   48   171 00:606c  60           z_bye
   49   178 00:606d  e2 20        sep 20
   50   179 00:606f  a9 0a        lda.# 00000a
   51   180 00:6071  22 4b e0 00  jsr.l 00e04b
   52   181 00:6075  c2 20        rep 20
   53   183 00:6077  60           z_cr
   54   190 00:6078  b4 00        ldy.dx 00
   55   191 00:607a  e8           inx
   56   192 00:607b  e8           inx
   57   194 00:607c  60           z_drop
   58   201 00:607d  ca           a_dup
   59   202 00:607e  ca           dex
   60   203 00:607f  94 00        sty.dx 00
   61   205 00:6081  60           z_dup
   62   217 00:6082  ca           a_here
   63   218 00:6083  ca           dex
   64   219 00:6084  94 00        sty.dx 00
   65   220 00:6086  a4 00        ldy.d cp
   66   222 00:6088  60           z_here
   67   228 00:6089  e8           a_nip
   68   229 00:608a  e8           inx
   69   230 00:608b  60           z_nip
   70   236 00:608c  ca           a_one
   71   237 00:608d  ca           dex
   72   238 00:608e  94 00        sty.dx 00
   73   239 00:6090  a0 01 00     ldy.# 0001
   74   241 00:6093  60           z_one
   75   248 00:6094  c8           a_one-plus
   76   249 00:6095  60           z_one-plus
   77   255 00:6096  98           a_plus
   78   256 00:6097  18           clc
   79   257 00:6098  75 00        adc.dx 00
   80   258 00:609a  a8           tay
   81   259 00:609b  e8           inx
   82   260 00:609c  e8           inx
   83   262 00:609d  60           z_plus
   84   280 00:609e  20 5d 60     jsr a_accept
   85   288 00:60a1  ca           dex
   86   289 00:60a2  ca           dex
   87   290 00:60a3  94 00        sty.dx 00
   88   291 00:60a5  a0 ff ff     ldy.# 0ffff
   89   293 00:60a8  60           z_refill
   90   299 00:60a9  ca           a_source-id
   91   300 00:60aa  ca           dex
   92   301 00:60ab  94 00        sty.dx 00
   93   302 00:60ad  a4 08        ldy.d insrc
   94   304 00:60af  60           z_source-id
   95   312 00:60b0  ca           a_state
   96   313 00:60b1  ca           dex
   97   314 00:60b2  94 00        sty.dx 00
   98   315 00:60b4  a0 10 02     ldy.# state
   99   317 00:60b7  60           z_state
  100   324 00:60b8  b5 00        a_swap
  101   325 00:60ba  94 00        sty.dx 00
  102   326 00:60bc  a8           tay
  103   328 00:60bd  60           z_swap
  104   334 00:60be  ca           a_true
  105   335 00:60bf  ca           dex
  106   336 00:60c0  94 00        sty.dx 00
  107   337 00:60c2  a0 ff ff     ldy.# 0ffff
  108   339 00:60c5  60           z_true
  109   345 00:60c6  ca           a_tuck
  110   346 00:60c7  ca           dex
  111   347 00:60c8  b5 02        lda.dx 2
  112   348 00:60ca  95 00        sta.dx 0
  113   349 00:60cc  94 02        sty.dx 2
  114   351 00:60ce  60           z_tuck
  115   357 00:60cf  ca           a_zero
  116   358 00:60d0  ca           dex
  117   359 00:60d1  94 00        sty.dx 00
  118   360 00:60d3  a0 00 00     ldy.# 0000
  119   362 00:60d6  60           z_zero
  120   369 00:60d7  90           .byte 64, 72, 6f, 70
  121   369 00:60d8  03           .word a_drop, z_drop, h_dup
  122   369 00:60d9  6a 60        h_drop
  123   369 00:60db  6c 60        h_here
  124   369 00:60dd  00 00        h_dup
  125   369 00:60df  62 79 65     h_one-plus
  126   369 00:60e2  00 04        h_tuck
  127   369 00:60e4  00 60 (...)  (data)
  128   369 00:60ea  63 6f 6c 64  (data)
  129   369 00:60ee  00 05        (data)
  130   369 00:60f0  2a 60 (...)  (data)
  131   369 00:60f6  61 62 (...)  (data)
  132   369 00:60fb  00 04        (data)
  133   369 00:60fd  30 60 (...)  (data)
  134   369 00:6103  71 75 69 74  (data)
  135   369 00:6107  90 02        (data)
  136   369 00:6109  6d 60 (...)  (data)
  137   369 00:610f  63 72        (data)
  138   369 00:6111  90 05        (data)
  139   369 00:6113  b0 60 (...)  (data)
  140   369 00:6119  73 74 (...)  (data)
  141   369 00:611e  90 01        (data)
  142   369 00:6120  96 60 (...)  (data)
  143   369 00:6126  2b           (data)
  144   369 00:6127  90 02        (data)
  145   369 00:6129  94 60 (...)  (data)
  146   369 00:612f  31 2b        (data)
  147   369 00:6131  90 05        (data)
  148   369 00:6133  cf 60 (...)  (data)
  149   369 00:6139  66 61 (...)  (data)
  150   369 00:613e  90 04        (data)
  151   369 00:6140  be 60 (...)  (data)
  152   369 00:6146  74 72 75 65  (data)
  153   369 00:614a  90 03        (data)
  154   369 00:614c  8c 60 (...)  (data)
  155   369 00:6152  6f 6e 65     (data)
  156   369 00:6155  90 04        (data)
  157   369 00:6157  cf 60 (...)  (data)
  158   369 00:615d  7a 65 72 6f  (data)
  159   369 00:6161  80 06        (data)
  160   369 00:6163  9e 60 (...)  (data)
  161   369 00:6169  72 65 (...)  (data)
  162   369 00:616f  90 09        (data)
  163   369 00:6171  a9 60 (...)  (data)
  164   369 00:6177  73 6f (...)  (data)
  165   369 00:6180  00 06        (data)
  166   369 00:6182  5d 60 (...)  (data)
  167   369 00:6188  61 63 (...)  (data)
  168   369 00:618e  90 04        (data)
  169   369 00:6190  c6 60 (...)  (data)
  170   369 00:6196  74 75 63 6b  (data)
  171   369 00:619a  90 03        (data)
  172   369 00:619c  89 60 (...)  (data)
  173   369 00:61a2  6e 69 70     (data)
  174   369 00:61a5  90 04        (data)
  175   369 00:61a7  82 60 (...)  (data)
  176   369 00:61ad  68 65 72 65  (data)
  177   369 00:61b1  90 04        (data)
  178   369 00:61b3  b8 60 (...)  (data)
  179   369 00:61b9  73 77 61 70  (data)
  180   369 00:61bd  90 03        (data)
  181   369 00:61bf  7d 60 (...)  (data)
  182   369 00:61c5  64 75 70     (data)
  183   369 00:61c8  90 04        (data)
  184   369 00:61ca  78 60 (...)  (data)
  185   369 00:61d0  64 72 6f 70  (data)
  186   382 00:61d4  da           phx
  187   383 00:61d5  aa           tax
  188   384 00:61d6  e2 20        sep 20
  189   386 00:61d8  bd 00 00     lda.x 0000
  190   387 00:61db  f0 07        beq printstring_done
  191   388 00:61dd  22 4b e0 00  jsr.l 00e04b
  192   389 00:61e1  e8           inx
  193   391 00:61e2  80 f4        bra -
  194   394 00:61e4  a9 0a        lda.# 00000a
  195   395 00:61e6  22 4b e0 00  jsr.l 00e04b
  196   396 00:61ea  c2 20        rep 20
  197   397 00:61ec  fa           plx
  198   398 00:61ed  60           rts
  199   403 00:61ee  a5 06        lda.d cib
  200   404 00:61f0  49 00 01     eor.# 0100
  201   405 00:61f3  85 06        sta.d cib
  202   406 00:61f5  60           rts
  203   412 00:61f6  84 0c        sty.d tmptos
  204   413 00:61f8  a9 00 00     lda.# 0000
  205   414 00:61fb  a8           tay
  206   417 00:61fc  91 06        sta.diy cib
  207   418 00:61fe  c8           iny
  208   419 00:61ff  c8           iny
  209   420 00:6200  c0 00 01     cpy.# 0100
  210   421 00:6203  d0 f7        bne -
  211   423 00:6205  a4 0c        ldy.d tmptos
  212   424 00:6207  60           rts
  213   430 00:6208  0a 4c (...)  alphastr
  214   430 00:6228  56 65 (...)  .byte 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 61, 62, 63, 64, 65, 66, 67, 68, 69, 6a, 6b, 6c, 6d, 6e, 6f, 70, 71, 72, 73, 74, 75, 76, 77, 79, 7a
  215   430 00:6247  53 63 (...)  .byte 55, 6e, 6b, 6e, 6f, 77, 6e, 20, 77, 6f, 72, 64, 0
  216   430 00:6274  4c 69 (...)  .byte 3e, 3e, 3e, 45, 72, 72, 6f, 72, 3c, 3c, 3c, 0
  217   430 00:62a2  54 79 (...)  .byte 49, 6e, 74, 65, 72, 70, 72, 65, 74, 69, 6e, 67, 20, 61, 20, 63, 6f, 6d, 70, 69, 6c, 65, 2d, 6f, 6e, 6c, 79, 20, 77, 6f, 72, 64, 0
  218   430 00:62b5  6f 6b 00     .byte 43, 6f, 75, 6c, 64, 20, 6e, 6f, 74, 20, 67, 65, 74, 20, 69, 6e, 70, 75, 74, 20, 6c, 69, 6e, 65, 20, 28, 52, 45, 46, 49, 4c, 4c, 20, 66, 61, 69, 6c, 65, 64, 20, 64, 75, 72, 69, 6e, 67, 20, 51, 55, 49, 54, 29, 0
  219   430 00:62b8  41 63 (...)  (data)
  220   430 00:62d2  49 6e (...)  (data)
  221   430 00:62f3  44 45 (...)  (data)
  222   430 00:6310  44 69 (...)  (data)
  223   430 00:6321  20 28 (...)  (data)
  224   430 00:632a  3e 3e (...)  (data)
  225   430 00:6336  4e 6f (...)  (data)
  226   430 00:634c  50 61 (...)  (data)
  227   430 00:635c  44 69 (...)  (data)
  228   430 00:6373  43 6f (...)  (data)
  229   430 00:63a8  53 74 (...)  (data)
  230   430 00:63c1  55 6e (...)  (data)
  231   430 00:63ce  30 31 (...)  (data)

MACROS:
            (none)

SYMBOL TABLE:
                 a_abort : 00602a
                a_accept : 00605d
                   a_bye : 00606a
                  a_cold : 006000
                    a_cr : 00606d
                  a_drop : 006078
                   a_dup : 00607d
                  a_here : 006082
                   a_nip : 006089
                   a_one : 00608c
              a_one-plus : 006094
                  a_plus : 006096
                  a_quit : 006030
                a_refill : 00609e
             a_source-id : 0060a9
                 a_state : 0060b0
                  a_swap : 0060b8
                  a_true : 0060be
                  a_tuck : 0060c6
                  a_zero : 0060cf
                alphastr : 0063ce
                   ascbs : 000008
                   asccc : 000003
                   asccr : 00000d
                  ascdel : 00007f
                  ascesc : 00001b
                   asclf : 00000a
                   ascsp : 000020
                 buffer1 : 007c00
                 buffer2 : 007d00
                 buffers : 007c00
                     cib : 000206
             clearbuffer : 0061f6
                      co : 000040
                      cp : 000200
              directpage : 000200
     directpage-multiple : 007400
                      dp : 000202
                    dsp0 : 0002f0
              es_channel : 0062b8
             es_componly : 0062d2
                es_defer : 0062f3
              es_divzero : 006310
                es_empty : 006321
                es_error : 00632a
              es_intonly : 006336
               es_noname : 00634c
                es_radix : 00635c
               es_refill : 006373
                es_stack : 0063a8
               es_syntax : 0063c1
                 get_chr : 00e036
                 h_abort : 0060ee
                h_accept : 006180
                   h_bye : 0060d7
                  h_cold : 0060e2
                    h_cr : 006107
                  h_drop : 0061c8
                   h_dup : 0061bd
                 h_false : 006131
                  h_here : 0061a5
                   h_nip : 00619a
                   h_one : 00614a
              h_one-plus : 006127
                  h_plus : 00611e
                  h_quit : 0060fb
                h_refill : 006161
             h_source-id : 00616f
                 h_state : 006111
                  h_swap : 0061b1
                  h_true : 00613e
                  h_tuck : 00618e
                  h_zero : 006155
                      im : 000020
                   insrc : 000208
         maxram-multiple : 006fff
           maxram-single : 007bff
                      nc : 000010
             physicalram : 007fff
             printstring : 0061d4
        printstring_done : 0061e4
                 put_chr : 00e04b
                      pw : 000080
          quit_main_loop : 006040
          quit_refill_ok : 00604e
                    ram0 : 000200
                s_author : 006247
            s_disclaimer : 006274
                    s_ok : 0062b5
                 s_title : 006208
               s_typebye : 0062a2
               s_version : 006228
          stack-multiple : 007000
                  stack0 : 007fff
                   state : 000210
             swapbuffers : 0061ee
                 taskmap : 00020e
                  tmpdsp : 00020a
                  tmptos : 00020c
                   to-in : 000204
                 z_abort : 00605c
                z_accept : 006069
                   z_bye : 00606c
                  z_cold : 00605c
                    z_cr : 006077
                  z_drop : 00607c
                   z_dup : 006081
                  z_here : 006088
                   z_nip : 00608b
                   z_one : 006093
              z_one-plus : 006095
                  z_plus : 00609d
                  z_quit : 00605c
                z_refill : 0060a8
             z_source-id : 0060af
                 z_state : 0060b7
                  z_swap : 0060bd
                  z_true : 0060c5
                  z_tuck : 0060ce
                  z_zero : 0060d6

